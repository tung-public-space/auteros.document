!function(e){"use strict";function n(n){var t={},i=(n=n,null),o=!1,m="desktop",s=null,c=null,a=null,l=null;function d(n){var t=e(n.target).is(":checked"),i=s.find(".cmm4e-nav-link"),o=s.find(".cmm4e-item-label");t?o.length&&o.hide():o.length?o.show():i.append('<span class="cmm4e-item-label">'+top.clever_mega_menu_item_title+"</span>")}function r(n){var t=e(n.target).is(":checked"),i=s.find("> .cmm4e-nav-link"),o=i.find("> .menu-item-badge");t?o.length?o.css({display:"inline-block"}):i.append('<span class="menu-item-badge" style="line-height:1;color:#fff;background-color:#2ed164">New</span>'):o.length&&o.hide()}function h(m){s.is(":hidden");var c=s.find("> .cmm4e-item-toggle"),a=e(m.target).is(":checked"),d=s.find("> .menu-item-arrow");if(n.toggleMega(a),a){if(o=!0,t.sections.megaPanel.show(),t.sections.flyoutPanel.hide(),s.addClass("cmm4e-mega menu-item-has-children cmm4e-item-has-content"),s.find("> .cmm4e-sub-container").hide(),c.length||s.append('<span class="cmm4e-item-toggle cs-font clever-icon-plus"></span>'),d.length)d.show();else{var r="vertical"===i.desktop.orientation?i.arrows.right:i.arrows.down;s.append('<span role="presentation" class="menu-item-arrow '+r+'"></span>')}l.find("#cmm4e-menu-content").show()}else{var h=s.find("> .cmm4e-sub-container");o=!1,t.sections.megaPanel.hide(),t.sections.flyoutPanel.show(),s.removeClass("cmm4e-mega cmm4e-item-has-content"),h.length?h.show():(s.removeClass("menu-item-has-children"),s.find("> .menu-item-arrow").hide()),l.find("#cmm4e-menu-content").hide()}}function u(t){var i=e(t.target).val();n.setIcon(i);var o=s.find("> .cmm4e-nav-link > .menu-item-icon");o.length?o.find("i").attr("class",i):e('<span class="menu-item-icon"><i class="'+i+'"></i></span>').insertBefore(s.find("> .cmm4e-nav-link > .cmm4e-item-label"))}function g(n){e(n.target).is(":checked")?(s.addClass("cmm4e-hide-on-mobile"),"mobile"!==m&&"tablet"!==m||(s.hide(),s.hasClass("cmm4e-mega")&&l.find("#cmm4e-menu-content").hide())):(s.removeClass("cmm4e-hide-on-mobile"),s.show(),s.hasClass("cmm4e-mega")&&l.find("#cmm4e-menu-content").show())}function p(n){if(e(n.target).is(":checked"))s.hasClass("cmm4e-hide-sub-on-mobile")||s.addClass("cmm4e-hide-sub-on-mobile"),s.find("> .cmm4e-item-toggle").hide(),"mobile"!==m&&"tablet"!==m||s.hasClass("cmm4e-mega")&&l.find("#cmm4e-menu-content").hide();else{s.removeClass("cmm4e-hide-sub-on-mobile");var t=s.find("> .cmm4e-item-toggle");t.length?t.show():(s.append('<span class="cmm4e-item-toggle cs-font clever-icon-plus"></span>'),t=s.find("> .cmm4e-item-toggle")),s.hasClass("cmm4e-mega")&&l.find("#cmm4e-menu-content").show()}}function f(n){e(n.target).is(":checked")?(s.addClass("cmm4e-hide-on-desktop"),"desktop"===m&&(s.hide(),s.hasClass("cmm4e-mega")&&l.find("#cmm4e-menu-content").hide())):(s.removeClass("cmm4e-hide-on-desktop"),s.show(),s.hasClass("cmm4e-mega")&&l.find("#cmm4e-menu-content").show())}function b(e){var n=s.find("> .cmm4e-content-container"),t=elementor.channels.deviceMode.request("currentMode");"mobile"===(m=t)||"tablet"===t?(s.hasClass("cmm4e-hide-on-mobile")?s.hide():s.show(),s.hasClass("cmm4e-hide-sub-on-mobile")&&s.find("> .cmm4e-item-toggle").hide(),o&&(n.length?n.hide():s.append('<div class="cmm4e-content-container" style="display: none"><div class="cmm4e-content-wrapper">'+a.html()+"</div></div>"),a.hide())):"desktop"===t?(s.hasClass("cmm4e-hide-on-desktop")?s.hide():s.show(),s.hasClass("cmm4e-mega")?s.find(".cmm4e-content-container").show():s.hasClass("menu-item-has-children")&&s.find(".cmm4e-sub-container").show(),o&&(n.hide(),a.show())):s.show()}function v(){var n=e("#elementor-panel-page-settings-controls");e("#elementor-panel-page-settings .elementor-tab-control-style").hide(),e("#elementor-panel-header-title").html(top.cmm4eL10n.edit+' "'+top.clever_mega_menu_item_title+'"'),t={sections:{general:e(".elementor-control-document_settings",n),flyoutPanel:e(".elementor-control-flyout_panel_settings",n),megaPanel:e(".elementor-control-mega_panel_settings",n)},controls:{hideTitle:e(".elementor-control-hide_title",n),enableMega:e(".elementor-control-enable_mega",n),iconSelect:e(".elementor-control-cmm4e_icon",n),hideOnMobile:e(".elementor-control-hide_on_mobile",n),hideSubOnMobile:e(".elementor-control-hide_sub_on_mobile",n),hideOnDesktop:e(".elementor-control-hide_on_desktop",n),showBadge:e(".elementor-control-show_badge",n)}},e(".elementor-control-post_status",n).hide(),e(".elementor-control-field-description",t.hideTitle).hide(),e("input",t.controls.enableMega).length&&(o=e("input",t.controls.enableMega).is(":checked"))&&(s.hasClass("menu-item-has-children")?s.find(".cmm4e-sub-container").hide():s.addClass("menu-item-has-children cmm4e-item-has-content")),e("input",t.controls.hideTitle).length&&e("input",t.controls.hideTitle).is(":checked"),e("input",t.controls.hideOnMobile).length&&e("input",t.controls.hideOnMobile).is(":checked"),e("input",t.controls.hideOnDesktop).length&&e("input",t.controls.hideOnDesktop).is(":checked"),e("input",t.controls.showBadge).length&&e("input",t.controls.showBadge).is(":checked"),o?(t.sections.megaPanel.show(),t.sections.flyoutPanel.hide()):(t.sections.megaPanel.hide(),t.sections.flyoutPanel.show())}function w(){e("input",t.controls.hideTitle).on("change",d),e("input",t.controls.enableMega).on("change",h),e("select",t.controls.iconSelect).on("change",u),e("input",t.controls.hideOnMobile).on("change",g),e("input",t.controls.hideSubOnMobile).on("change",p),e("input",t.controls.hideOnDesktop).on("change",f),e("input",t.controls.showBadge).on("change",r)}function C(e){e._isRendered&&(v(),w())}function k(e){v(),w(),e.on("render:collection",C)}elementor.on("preview:loaded",function(){m=elementor.channels.deviceMode.request("currentMode"),a=elementor.$previewContents.find("#cmm4e-menu-content"),s=elementor.$previewContents.find(".cmm4e-menu-item"),l=elementor.$previewContents.find("#cmm4e-menu-container"),c=l.find("> .cmm4e-navigation-menu > .cmm4e-container > .cmm4e"),i=c.data("config"),s.addClass("cmm4e-current-menu-item cmm4e-current-edit-item"),"mobile"!==m&&"tablet"!==m||(s.hasClass("cmm4e-hide-on-mobile")&&s.hide(),s.hasClass("cmm4e-hide-sub-on-mobile")&&s.find(".cmm4e-sub-panel").hide()),"desktop"===m&&s.hasClass("cmm4e-hide-on-desktop")&&s.hide(),l.hasClass("cmm4e-mega-disabled")&&l.find("#cmm4e-menu-content").hide(),n.isChild&&s.parents(".cmm4e-sub-container").css({visibility:"visible",opacity:1});var t=parseFloat(s.offset().top-s.height()),o=parseFloat(t-s.height());s.hasClass("cmm4e-mega")&&(a.hasClass("cmm4e-content-vertical")?l.find(".cmm4e-menu-content-container").css({marginTop:t+"px"}):l.find(".cmm4e-menu-content-container").css({marginTop:"20px"})),elementor.panel.currentView.on("set:page:page_settings",k),elementor.channels.deviceMode.on("change",b),elementor.$previewContents.find(".cmm4e-nav-link").on({mouseenter:function(n){var t=e(this).parent();t.hasClass("cmm4e-current-menu-item")||a.css({zIndex:1}),t.hasClass("cmm4e-mega")&&t.hasClass("cmm4e-current-edit-item")&&(a.hasClass("cmm4e-content-vertical")?l.find(".cmm4e-menu-content-container").css({marginTop:o+"px"}):l.find(".cmm4e-menu-content-container").css({marginTop:"0"}))},mouseleave:function(n){var i=e(this).parent();i.hasClass("cmm4e-current-menu-item")||a.css({zIndex:9}),i.hasClass("cmm4e-mega")&&i.hasClass("cmm4e-current-edit-item")&&(a.hasClass("cmm4e-content-vertical")?l.find(".cmm4e-menu-content-container").css({marginTop:t+"px"}):l.find(".cmm4e-menu-content-container").css({marginTop:"20px"}))}}),$e.route("panel/elements/categories")}),elementor.settings.page.model.on("change",function(e){var n=e.changed;_.isUndefined(n.badge_label)||s.find(" > .cmm4e-nav-link .menu-item-badge").text(n.badge_label)})}e(function(){window.cmm4eElementor=window.cmm4eElementor||new n(top.currentEditItem)})}(jQuery);
